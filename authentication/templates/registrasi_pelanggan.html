{% extends 'base.html' %}

<!DOCTYPE html>
<html>
<head>
    {% block meta %}
    <title> Form Registrasi Pelanggan </title> 
    {% endblock meta %}
</head>

<body>
    {% block content %}  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

    <div class = "flex justify-center">
        <div class = "max-w-720px p-8 w-full bg-main rounded-md font-bold">
            <div id = "errorMessage"> </div>
            <form id = "idSubmit" method="POST" action="" class = "flex flex-col">
                <h2 class = "text-center font-bold"> Form Registrasi Pelanggan </h2>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="emailForm"> Email: </label>
                    <input type="email" class="form-control" id="emailForm" name="emailForm" aria-describedby="emailHelp" placeholder="Masukkan Email" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="passwordForm"> Password: </label>
                    <input type="password" class="form-control" id="passwordForm" name="passwordForm" aria-describedby="password" placeholder="Masukkan password" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="namaForm"> Nama: </label>
                    <input type="text" class="form-control" id="namaForm" name="namaForm" aria-describedby="nama" placeholder="Masukkan namamu" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="nomorForm"> Nomor HP: </label>
                    <input type="tel" class="form-control" id="nomorForm" name="nomorForm" aria-describedby="phone" placeholder="Masukkan nomor HP mu" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="nikForm"> NIK: </label>
                    <input type="text" class="form-control" id="nikForm" name="nikForm" aria-describedby="nik" placeholder="Masukkan NIK" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="bankForm"> Nama Bank: </label>
                    <input type="text" class="form-control" id="bankForm"  name="bankForm" aria-describedby="bank" placeholder="Masukkan nama bank" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="noRekForm"> Nomor rekening: </label>
                    <input type="text" class="form-control" id="noRekForm" name="noRekForm" aria-describedby="noRek" placeholder="Masukkan nomor rekening" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="dateForm"> Tanggal Lahir: </label>
                    <input type="date" class="form-control" id="dateForm" name="dateForm" aria-describedby="date" aria-required="Input Tidak Boleh Kosong!">
                </div>
                <div class="form-group mt-4 flex justify-center items-center gap-x-4">
                    <label for="selectForm"> Jenis Kelamin: </label>
                    <select id = "selectForm" name = "selectForm" class="form-select" aria-label="Default select example">
                        <option value = "default" selected> Pilih jenis kelamin </option>
                        <option value = 'M'> Laki-Laki </option>
                        <option value = 'F'> Perempuan </option>
                    </select>
                </div>
                <div class = "text-center pt-8 flex justify-center items-center gap-x-4">
                    <button type="submit" class="btn btn-primary text-center">Daftar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $("#idSubmit").submit(function(e){
          e.preventDefault()
          var email = $("#emailForm").val()
          var password = $("#passwordForm").val()
          var nama = $("#namaForm").val().split(" ")
          var noHP = $("#nomorForm").val()
          var nik = $("#nikForm").val()
          var namaBank = $("#bankForm").val()
          var noRek = $("#noRekForm").val()
          var tanggalLahir = $("#dateForm").val()
          var jenisKelamin = $("#selectForm").val()
        //   var noHP = $("#nomorForm").val()
          if(email === "" || password === "" || nama[0] === "" || nama[1] === "" || noHP === "" || nik === "" || namaBank === "" || noRek === "" || tanggalLahir === "" || jenisKelamin === "default"){
            $("#errorMessage").html("")
            const text = `<p class = "text-white font-bold text-center"> Data yang diisikan belum lengkap, silakan lengkapi data terlebih dahulu. </p>`
            $(text).appendTo("#errorMessage")
          }else{
            window.location.href = window.location.protocol + "//" + window.location.host + "/" + "register/pelanggan/"
          }
        })
    </script>

    {% endblock content %}
</body>
